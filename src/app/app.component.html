<ob-master-layout>
	<ng-container obHeaderTitle>{{ "application.title" | translate }}</ng-container>
	<ng-container obFooterInfo>
		<p>
			&copy; 2020 {{ "application.organization.name" | translate
			}}<span class="viewport-expanded">
				-
				{{ "footer.built.prefix" | translate }}
				<a href="https://oblique.bit.admin.ch" title="The front-end framework for your Swiss branded UI."
					>Oblique</a
				>
				{{ "footer.built.suffix" | translate }}</span
			>
		</p>
		<p class="viewport-collapsed">
			{{ "footer.built.prefix" | translate }}
			<a href="https://oblique.bit.admin.ch" title="The front-end framework for your Swiss branded UI."
				>Oblique</a
			>
			{{ "footer.built.suffix" | translate }}
		</p>
	</ng-container>
	<ng-container obOffCanvasTitle>{{ "help.title" | translate }}</ng-container>
	<ng-container obOffCanvasContent>
		<ha-help></ha-help>
	</ng-container>
	<ng-container *ngIf="isAuthenticated$ | async">
		<ng-template #obHeaderControl>
			<button [matTooltip]="'logout' | translate" class="control-link" (click)="logout()">
				<span class="fa fa-sign-out-alt control-icon"></span>
			</button>
		</ng-template>
		<ng-container *ngIf="currentPage">
			<ng-template #obHeaderControl>
				<ha-eiam-self-admin [page]="currentPage" [name]="name$ | async"></ha-eiam-self-admin>
			</ng-template>
			<ng-template #obHeaderControl *ngIf="currentPage === '/generate-code'">
				<button
					obOffCanvasToggle
					[matTooltip]="helpTooltip$ | async | translate"
					id="help-toggle_button"
					class="control-link"
				>
					<span class="fa fa-question-circle control-icon"></span>
				</button>
			</ng-template>
		</ng-container>
	</ng-container>
	<ng-template #obFooterLink>
		<a [href]="'footer.legal.url' | translate" target="_blank" role="menuitem">{{ "footer.legal" | translate }}</a>
	</ng-template>
</ob-master-layout>
<ob-spinner channel="auth" [fixed]="true"></ob-spinner>
